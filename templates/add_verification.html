{% extends "base.html" %}

{% block title %}Add Verification - Account Verifier{% endblock %}
{% block page_name %}add{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Add New Verification</h1>
    <p>Create a new account verification request</p>
</div>

<div class="card">
    <form id="verification-form" onsubmit="handleSubmit(event)">
        <h3 style="margin-bottom: 1rem;">Basic Information</h3>
        
        <div class="form-row">
            <div class="form-group">
                <label class="form-label">Verification ID *</label>
                <input type="text" name="verification_id" class="form-input" required 
                       placeholder="ver_001">
                <div class="form-help">Unique identifier for this verification</div>
            </div>
            <div class="form-group">
                <label class="form-label">Priority</label>
                <select name="priority" class="form-select">
                    <option value="0">Low</option>
                    <option value="1" selected>Normal</option>
                    <option value="2">High</option>
                </select>
            </div>
        </div>

        <h3 style="margin: 2rem 0 1rem 0;">Customer Information</h3>
        
        <div class="form-row">
            <div class="form-group">
                <label class="form-label">Customer Name *</label>
                <input type="text" name="customer_name" class="form-input" required 
                       placeholder="John Doe">
            </div>
            <div class="form-group">
                <label class="form-label">Customer Phone *</label>
                <input type="tel" name="customer_phone" class="form-input" required 
                       placeholder="+12125551234">
                <div class="form-help">Format: +1XXXXXXXXXX (E.164)</div>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label class="form-label">Customer Email</label>
                <input type="email" name="customer_email" class="form-input" 
                       placeholder="john@example.com">
            </div>
            <div class="form-group">
                <label class="form-label">Account Number</label>
                <input type="text" name="account_number" class="form-input" 
                       placeholder="ACC123456">
            </div>
        </div>

        <div class="form-group">
            <label class="form-label">Customer Address</label>
            <input type="text" name="customer_address" class="form-input" 
                   placeholder="123 Main St, New York, NY 10001">
        </div>

        <div class="form-row">
            <div class="form-group">
                <label class="form-label">Date of Birth</label>
                <input type="text" name="customer_date_of_birth" class="form-input" 
                       placeholder="01/15/1985">
                <div class="form-help">Optional - for identity verification</div>
            </div>
            <div class="form-group">
                <label class="form-label">Social Security Number (SSN)</label>
                <input type="text" name="customer_ssn_full" class="form-input" maxlength="11" 
                       placeholder="123-45-6789" pattern="[0-9]{3}-[0-9]{2}-[0-9]{4}">
                <div class="form-help">Optional - Format: XXX-XX-XXXX (9 digits with dashes)</div>
            </div>
        </div>

        <h3 style="margin: 2rem 0 1rem 0;">Company Information</h3>
        
        <div class="form-row">
            <div class="form-group">
                <label class="form-label">Company Name *</label>
                <input type="text" name="company_name" class="form-input" required 
                       placeholder="Electric Utility Company">
            </div>
            <div class="form-group">
                <label class="form-label">Company Phone *</label>
                <input type="tel" name="company_phone" class="form-input" required 
                       placeholder="+18005551234">
                <div class="form-help">Format: +1XXXXXXXXXX (E.164)</div>
            </div>
        </div>

        <h3 style="margin: 2rem 0 1rem 0;">Additional Instructions</h3>
        
        <div class="form-group">
            <label class="form-label">Verification Instructions</label>
            <textarea name="verification_instruction" class="form-textarea" 
                      placeholder="Check if account is in good standing and not frozen"></textarea>
            <div class="form-help">Special instructions for the AI agent</div>
        </div>

        <div class="btn-group">
            <button type="submit" class="btn btn-primary">âœ… Create Verification</button>
            <a href="/verifications" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>

<script>
function handleSubmit(event) {
    event.preventDefault();
    const formData = new FormData(event.target);
    createVerification(formData);
}
</script>
{% endblock %}
